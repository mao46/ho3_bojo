<!DOCTYPE html>
<html lang="zh-Hant">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="styles.css" />
    <title>ÂÖ®ÈÉ®ÂïÜÂìÅ</title>
    <style>
      body {
        margin: 0;
        background-color: #e3e3db;
        font-family: Arial, sans-serif;
      }

      .container {
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 60px 20px;
      }

      .product-box {
        width: 320px;
        text-align: center;
        padding: 20px;
        position: relative;
        overflow: hidden;
        cursor: pointer;
      }

      .product-name,
      .product-price {
        font-weight: bold;
        font-size: 16px;
        opacity: 0;
      }

      .product-name {
        margin-bottom: 20px;
      }

      .product-price {
        margin: 20px 0;
      }

      .image-wrapper {
        position: relative;
        width: 100%;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .product-image,
      .product-image-oval {
        max-width: 100%;
        height: auto;
        display: block;
      }

      .product-image-oval {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        opacity: 0;
        border-radius: 50% / 60%;
        max-width: 90%;
        height: auto;
        z-index: 2;
      }

      .add-to-bag {
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto;
        border: 1.5px solid black;
        background-color: transparent;
        padding: 12px 20px;
        font-weight: bold;
        font-size: 14px;
        opacity: 0;
        gap: 8px;
        cursor: pointer;
      }

      .add-to-bag:hover {
        background-color: black;
        color: white;
      }

      .add-to-bag img {
        width: 18px;
        height: 18px;
      }

      /* Hover state */
      .product-box:hover .product-image {
        opacity: 0;
      }

      .product-box:hover .product-image-oval {
        opacity: 1;
      }

      .product-box:hover .product-name,
      .product-box:hover .product-price,
      .product-box:hover .add-to-bag {
        opacity: 1;
      }
      #overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background: rgba(0, 0, 0, 0.5);
        z-index: 999;
      }

      #cartModal {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 90%;
        max-width: 600px;
        background: white;
        z-index: 1000;
        box-shadow: 0 0 30px rgba(0, 0, 0, 0.2);
        display: none;
        overflow: hidden;
      }

      .modal-content {
        position: relative;
        padding: 20px 20px;
        font-size: 14px;
        line-height: 1.7;
        overflow-y: auto;
        max-height: 80vh;
        box-sizing: border-box; /* ÈÅøÂÖç padding Êì†Âá∫ */
      }

      .modal-content h2 {
        margin-top: 0;
        font-size: 20px;
      }

      .modal-content h3 {
        font-size: 16px;
        margin-top: 25px;
      }

      .modal-content select {
        margin: 8px 0 16px;
        padding: 8px;
        font-size: 14px;
        width: 100%;
      }

      .modal-content p.modal-price {
        font-size: 18px;
        font-weight: bold;
        margin: 10px 0 25px; /* ‰∏ä‰∏ãÈñìË∑ùÔºöËÆìÂÉπÊ†ºËàá‰∏ãÊãâÈÅ∏ÂñÆ‰πãÈñìÊúâÁ©∫Èöô */
      }

      .modal-content label {
        font-size: 14px;
        font-weight: bold;
        margin-bottom: 6px;
        display: inline-block;
      }

      .modal-close {
        position: absolute;
        top: 12px;
        right: 18px;
        z-index: 10;
        background: none;
        border: none;
        font-size: 20px;
        font-weight: bold;
        color: #333;
        cursor: pointer;
      }

      .add-cart-btn {
        margin-top: 30px;
        width: 100%;
        padding: 12px;
        background-color: black;
        color: white;
        font-size: 14px;
        border: none;
        cursor: pointer;
        border-radius: 4px;
      }

      .add-cart-btn:hover {
        background-color: #333;
      }

      .carousel {
        position: relative;
        width: 100%;
        overflow: hidden;
        border-radius: 8px;
        margin-bottom: 20px;
      }

      .carousel-track {
        display: flex;
        transition: transform 0.4s ease;
      }

      .carousel-img {
        width: 100%;
        max-height: 360px;
        object-fit: cover;
        object-fit: contain;
        flex-shrink: 0;
      }

      .carousel-btn {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        background: rgba(0, 0, 0, 0.4);
        color: white;
        border: none;
        font-size: 24px;
        padding: 4px 12px;
        cursor: pointer;
        z-index: 10;
      }

      .carousel-btn.left {
        left: 10px;
      }

      .carousel-btn.right {
        right: 10px;
      }
    </style>
  </head>
  <header>
    <a href="./index.html" class="logo">
      <img src="image/logo1.png" alt="Á¶æÂ±±ÈÉ®Èï∑ Logo" style="height: 40px" />
    </a>
    <nav>
      <ul class="nav-links">
        <li><a href="./shop.html">SHOP</a></li>
        <li><a href="./share.html">SHARE</a></li>
        <li><a href="./about.html">ABOUT</a></li>
        <li><a href="./help.html">HELP</a></li>
        <li><a href="./cart.html">CART</a></li>
        <li><a href="./information.html" class="active">INFORMATION</a></li>
      </ul>
    </nav>
  </header>
  <body>
    <div class="container">
      <div
        class="product-box"
        data-name="Ë≥ºÁâ©Êà∞Â£´T-shirtÔºàÁ≤âËâ≤ÂõûÊ≠∏Âï¶ÔºÅÔºâ"
        data-price="NT$680"
        data-sizes="L,XL"
        data-size-info="L ËôüÔºöËÇ©ÂØ¨ 50ÔΩúËÉ∏ÂØ¨ 55ÔΩúÂÖ®Èï∑ 73ÔΩúË¢ñÈï∑ 22 cm\nXL ËôüÔºöËÇ©ÂØ¨ 54ÔΩúËÉ∏ÂØ¨ 58ÔΩúÂÖ®Èï∑ 77ÔΩúË¢ñÈï∑ 24 cm"
        data-care="- ÂèçÈù¢ÊîæÂÖ•Ê¥óË°£Ë¢ãÊ∏ÖÊ¥óÔºõ- ‰∏çÂèØÊµ∏Ê≥°Ôºõ- Ë´ãÂãø‰ΩøÁî®Âº∑ÊïàÊ¥óÂäëÔºõ- Ê∑±Ê∑∫Ëâ≤ÂàÜÈñãÊ¥óÔºõ- ÈÅøÂÖçÊó•Êõ¨ËÆäËâ≤"
        data-notice="- È°èËâ≤ÂèØËÉΩÁï•ÊúâÂ∑ÆÁï∞Ôºõ- ÊèõÂ∞∫ÂØ∏ÈúÄËá™‰ªò‰æÜÂõûÈÅãË≤ªÔºõ- ÁëïÁñµ‰øùÁïôÂåÖË£ùÂèØÈÄÄË≤®"
        data-images="cloth_img/Ë≥ºÁâ©Êà∞Â£´T-shirtÔºàÁ≤âËâ≤ÂõûÊ≠∏Âï¶ÔºÅÔºâ/1.jpg,cloth_img/Ë≥ºÁâ©Êà∞Â£´T-shirtÔºàÁ≤âËâ≤ÂõûÊ≠∏Âï¶ÔºÅÔºâ/2.jpg"
      >
        <div class="product-name">Ë≥ºÁâ©Êà∞Â£´T-shirtÔºàÁ≤âËâ≤ÂõûÊ≠∏Âï¶ÔºÅÔºâ</div>
        <div class="image-wrapper">
          <img
            class="product-image"
            src="cloth_img\Ë≥ºÁâ©Êà∞Â£´T-shirtÔºàÁ≤âËâ≤ÂõûÊ≠∏Âï¶ÔºÅÔºâ\1.jpg"
            alt="ÂéüÂúñ"
          />
          <img
            class="product-image-oval"
            src="cloth_img\Ë≥ºÁâ©Êà∞Â£´T-shirtÔºàÁ≤âËâ≤ÂõûÊ≠∏Âï¶ÔºÅÔºâ\2.jpg"
            alt="Ê©¢ÂúìÂúñ"
          />
        </div>
        <div class="product-price">NT$680</div>

        <button class="add-to-bag">Âä†ÂÖ•Ë≥ºÁâ©Ëªä</button>
      </div>
      <div
        class="product-box"
        data-category="tshirt"
        data-season="summer"
        data-brand="custom"
        data-style="top"
      >
        <div class="product-name">Ë≥ºÁâ©Êà∞Â£´ÈñÉ‰∫ÆÊñ∞Ëâ≤T-shirtÔºà‰∏âËâ≤Ôºâ</div>
        <div class="image-wrapper">
          <img
            class="product-image"
            src="cloth_img/Ë≥ºÁâ©Êà∞Â£´ÈñÉ‰∫ÆÊñ∞Ëâ≤T-shirtÔºà‰∏âËâ≤Ôºâ/tw-11134207-7r992-lut2g053tdxnef.jpg"
            alt="ÂéüÂúñ"
          />
          <img
            class="product-image-oval"
            src="cloth_img/Ë≥ºÁâ©Êà∞Â£´ÈñÉ‰∫ÆÊñ∞Ëâ≤T-shirtÔºà‰∏âËâ≤Ôºâ/tw-11134207-7r98r-lut2g05xqrcmdf.jpg"
            alt="Ê©¢ÂúìÂúñ"
          />
        </div>
        <div class="product-price">NT$680</div>
        <button class="add-to-bag">Âä†ÂÖ•Ë≥ºÁâ©Ëªä</button>
      </div>
    </div>

    <!-- ÂΩàÁ™óÈÅÆÁΩ©ËàáÂÖßÂÆπ -->
    <div id="overlay" style="display: none" onclick="closeModal()"></div>
    <div id="cartModal" style="display: none"></div>
  </body>
</html>

<script>
  const overlay = document.getElementById("overlay");
  const cartModal = document.getElementById("cartModal");

  function openModalFor(productBox) {
    const name = productBox.dataset.name;
    const price = productBox.dataset.price;
    const sizeInfo = productBox.dataset.sizeInfo.replace(/\\n/g, "<br>");
    const care = productBox.dataset.care.replace(/Ôºõ/g, "<br>");
    const notice = productBox.dataset.notice.replace(/Ôºõ/g, "<br>");
    const images = productBox.dataset.images.split(",");
    window.currentProductBox = productBox;

    const carouselSlides = images
      .map((img) => `<img src="${img.trim()}" class="carousel-img">`)
      .join("");

    const sizeOptions = productBox.dataset.sizes
      .split(",")
      .map((size) => `<option value="${size}">${size}</option>`)
      .join("");

    cartModal.innerHTML = `
    <div class="modal-content">
      <button class="modal-close" onclick="closeModal()">‚úï</button>

      <div class="carousel">
        <div class="carousel-track">${carouselSlides}</div>
        <button class="carousel-btn left" onclick="moveSlide(-1)">‚Äπ</button>
        <button class="carousel-btn right" onclick="moveSlide(1)">‚Ä∫</button>
      </div>

      <h2>${name}</h2>
      <p class="modal-price">ÂÉπÊ†ºÔºö${price}</p>

      <label for="sizeSelect">Â∞∫ÂØ∏Ôºö</label>
      <select id="sizeSelect">
        <option>Ë´ãÈÅ∏ÊìáÂ∞∫ÂØ∏</option>
        ${sizeOptions}
      </select>
      <label for="quantitySelect">Êï∏ÈáèÔºö</label>
      <select id="quantitySelect">
        ${Array.from(
          { length: 10 },
          (_, i) => `<option value="${i + 1}">${i + 1}</option>`
        ).join("")}
      </select>


      <h3>üìè Â∞∫ÂØ∏Ë≥áË®äÔºö</h3>
      <div>${sizeInfo}</div>

      <h3>üåº Ê¥óÊªåÂª∫Ë≠∞Ôºö</h3>
      <div>${care}</div>

      <h3>üå∏ Ë≥ºË≤∑È†àÁü•Ôºö</h3>
      <div>${notice}</div>

      <button class="add-cart-btn" onclick="addToCart()">Âä†ÂÖ•Ë≥ºÁâ©Ëªä</button>
    </div>
  `;

    currentSlide = 0;
    updateSlide();
    overlay.style.display = "block";
    cartModal.style.display = "block";
  }

  let currentSlide = 0;

  function moveSlide(direction) {
    const track = document.querySelector(".carousel-track");
    const slides = document.querySelectorAll(".carousel-img");
    const totalSlides = slides.length;

    currentSlide = (currentSlide + direction + totalSlides) % totalSlides;
    track.style.transform = `translateX(-${currentSlide * 100}%)`;
  }

  function updateSlide() {
    const track = document.querySelector(".carousel-track");
    track.style.transform = `translateX(0%)`; // ÈáçÁΩÆ‰ΩçÁΩÆ
  }

  function closeModal() {
    overlay.style.display = "none";
    cartModal.style.display = "none";
  }

  document.addEventListener("DOMContentLoaded", function () {
    // Êï¥ÂÄãÂïÜÂìÅÂçÄÈÉΩÂèØ‰ª•Èªû
    document.querySelectorAll(".product-box").forEach((box) => {
      box.addEventListener("click", function () {
        openModalFor(box);
      });
    });

    // ‰ΩÜ„ÄåÂä†ÂÖ•Ë≥ºÁâ©ËªäÊåâÈàï„ÄçÈªû‰∫Ü‰∏çÊúÉÈáçË§áËß∏ÁôºÁà∂Â±§ click
    document.querySelectorAll(".add-to-bag").forEach((button) => {
      button.addEventListener("click", function (event) {
        event.stopPropagation(); // ‚ú® ÈòªÊ≠¢‰∫ã‰ª∂ÂÜíÊ≥°
        openModalFor(this.closest(".product-box"));
      });
    });
  });

  function addToCart() {
    const productBox = window.currentProductBox;
    const name = productBox.dataset.name;
    const price = productBox.dataset.price;
    const image = productBox.querySelector(".product-image").src;
    const size = document.getElementById("sizeSelect").value;
    const quantity = parseInt(document.getElementById("quantitySelect").value);

    if (size === "Ë´ãÈÅ∏ÊìáÂ∞∫ÂØ∏") {
      alert("Ë´ãÈÅ∏ÊìáÂ∞∫ÂØ∏ÔºÅ");
      return;
    }

    const item = {
      name,
      price,
      size,
      quantity,
      image,
    };

    let cart = JSON.parse(localStorage.getItem("cart")) || [];
    cart.push(item);
    localStorage.setItem("cart", JSON.stringify(cart));

    window.location.href = "cart.html";
  }
</script>
